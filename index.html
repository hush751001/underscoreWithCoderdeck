<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>UnderScore Sample</title>
	<meta name="viewport" content="width=1024">
	
	<link rel="stylesheet" href="dist/coderdeck-core.min.css" type="text/css">
	<link rel="stylesheet" id='style-theme-link' href="dist/coderdeck.css" type="text/css" >

	<script src='dist/jquery.min.js'></script>
	<script src="dist/modernizr.js"></script>
</head>

<body class="deck-container">

<script type='text/coderdeck' id='coderdeck-default'>
  <html>
    <head>
      <script src='dist/jquery.min.js'>SCRIPTEND
	  <script src='dist/underscore.js'>SCRIPTEND
    </head>
    <body>
	    CODE
    </body>
</html>
</script>

<article class='slide slide-subhead'>
<h1>UNDERSCORE.JS</h1>
</article>


<article class='slide slide-list'>
<h2>Introduction</h2>
<p>
<a href="http://github.com/documentcloud/underscore/">Underscore</a> is a
utility-belt library for JavaScript that provides a lot of the
functional programming support that you would expect in
<a href="http://prototypejs.org/api">Prototype.js</a>
(or <a href="http://www.ruby-doc.org/core/classes/Enumerable.html">Ruby</a>),
but without extending any of the built-in JavaScript objects. It's the
tie to go along with <a href="http://docs.jquery.com">jQuery</a>'s tux,
and <a href="http://backbonejs.org">Backbone.js</a>'s suspenders.
</p>
<p>
Underscore provides 60-odd functions that support both the usual
functional suspects: <b>map</b>, <b>select</b>, <b>invoke</b> ?
as well as more specialized helpers: function binding, javascript
templating, deep equality testing, and so on. It delegates to built-in
functions, if present, so modern browsers will use the
native implementations of <b>forEach</b>, <b>map</b>, <b>reduce</b>,
<b>filter</b>, <b>every</b>, <b>some</b> and <b>indexOf</b>.
</p>
<h3>Downloads</h3>
<table>
<tbody><tr>
<td><a href="underscore.js">Development Version (1.3.3)</a></td>
<td><i>37kb, Uncompressed with Plentiful Comments</i></td>
</tr>
<tr>
<td><a href="underscore-min.js">Production Version (1.3.3)</a></td>
<td><i>4kb, Minified and Gzipped</i></td>
</tr>
</tbody></table>
</article>

<!-- Collection Functions -->
<!-- each -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>each</h3>
<p>The cornerstone, an 'each' implementation, aka 'forEach'.<br/>
Handles objects with the built-in 'forEach', arrays, and raw objects.
</p>
<textarea class='coder-editor'>
<script>
_.each([3,5,7], function(num, index, arr) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
});

$("body").append("<br/>");

_.each({
		name: 'ysjung',
		phone: '010-4052-5827',
		email: 'hush751001@gmail.com'
	},
	function(item, index, obj) {
	$("body").append("<li> obj[" + index + "]: " + item +"</li>");
});
</script>
</textarea>
</article>

<!-- map -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>map</h3>
<p>Return the results of applying the iterator to each element.</p>
<textarea class='coder-editor'>
<script>

var result = _.map([3,5,7], function(num, index, arr) {
	return num * 3;
});

_.each(result, function(num, index, arr) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
});


$("body").append("<br/>");

var result = _.map({
		name: 'ysjung',
		phone: '010-4052-5827',
		email: 'hush751001@gmail.com'
	},
	function(item, index, obj) {
		if(index === 'name') {
			item = 'Yongseok, Jung';
		}
		else if(index === 'email') {
			item = 'ysjung@incross.com';
		}
		
		return item;
	});

_.each(result, function(item, index, obj) {
	$("body").append("<li> obj[" + index + "]: " + item +"</li>");
});

</script>
</textarea>
</article>

<!-- reduce -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>reduce</h3>
<p>builds up a single result from a list of value, aka 'inject', or 'foldl'.</p>
<textarea class='coder-editor'>
<script>

var result = _.reduce([3,5,7], function(memo, num) {
	$("body").append("<li> memo: " + memo + ", num: " + num + "</li>");
	return memo + num;
},
10 /* 초기값 */);

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.reduce({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(memo, item) {
	$("body").append("<li> memo: " + memo + ", item: " + item + "</li>");
	return memo + ", " + item;
}, "I'm" /* 초기값 */);

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- reduceRight -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>reduceRight</h3>
<p>The right-associative version of reduce, also known as 'foldr'.</p>
<textarea class='coder-editor'>
<script>

var result = _.reduceRight([3,5,7], function(memo, num) {
	$("body").append("<li> memo: " + memo + ", num: " + num + "</li>");
	return memo + num;
},
10 /* 초기값 */);

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.reduceRight({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(memo, item) {
	$("body").append("<li> memo: " + memo + ", item: " + item + "</li>");
	return memo + ", " + item;
}, "I'm" /* 초기값 */);

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- find -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>find</h3>
<p>Return the first value which passes a truth test. Aliased as 'detect'.</p>
<textarea class='coder-editor'>
<script>
/* 결과값은 index가 아닌 num임. */
var result = _.find([0,1,0,4,0,5,2,5,8,2,7], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num === 2;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.find({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return item === '010-4052-5827';
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- filter -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>filter</h3>
<p>Return all the elements that pass a truth test.</p>
<textarea class='coder-editor'>
<script>
/* 결과값은 num의 array임. */
var result = _.filter([0,1,0,4,0,5,2,5,8,2,7], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num % 2 == 0;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

/* 결과값은 item의 array임. */
var result = _.filter({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return (item.indexOf('u') > -1);
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- reject -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>reject</h3>
<p>Return all the elements for which a truth test fails.</p>
<textarea class='coder-editor'>
<script>
/* 결과값은 num의 array임. */
var result = _.reject([0,1,0,4,0,5,2,5,8,2,7], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num % 2 == 0;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

/* 결과값은 item의 array임. */
var result = _.reject({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return (item.indexOf('u') > -1);
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- all -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>all</h3>
<p>Determine whether all of the elements match a truth test.</p>
<textarea class='coder-editor'>
<script>
var result = _.all([2,4,8,9], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num % 2 == 0;
});

$("body").append("<li>result : " + result + "</li><br/>");

var result = _.all([true, null, 1, 'yes'], function(item) {
	return item;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.all([true, null, 1, 'yes'], _.identity);

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.all({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return item;
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- any -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>any</h3>
<p>Determine if at least one element in the object matches a truth test.</p>
<textarea class='coder-editor'>
<script>
var result = _.all([2,4,8,9], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num % 2 == 0;
});

$("body").append("<li>result : " + result + "</li><br/>");

var result = _.all([true, null, 1, 'yes'], function(item) {
	return item;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.all([true, null, 1, 'yes'], _.identity);

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.all({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return item;
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- include -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>include</h3>
<p>Determine if a given value is included in the array or object using '==='.</p>
<textarea class='coder-editor'>
<script>
var result = _.include([2,4,8,9], 8);

$("body").append("<li>result : " + result + "</li><br/>");

var result = _.include({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, '010-4052-5827' );

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- invoke -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>invoke</h3>
<p>Invoke a method (with arguments) on every item in a collection.</p>
<textarea class='coder-editor'>
<script>

var CPow = function(n) { this.n = n; };
CPow.prototype.pow = function(a) {
	return Math.pow(this.n, a);
};

var cPows = [];
cPows[0] = new CPow(12);
cPows[1] = new CPow(9);
cPows[2] = new CPow(13);
cPows[3] = new CPow(17);

var result = _.invoke(cPows, 'pow', 2);

$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- pluck -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>pluck</h3>
<p>Convenience version of a common use case of 'map': fetching a property.</p>
<textarea class='coder-editor'>
<script>

var storage = [
	{name : 'moe', age : 40},
	{name : 'larry', age : 50},
	{name : 'curly', age : 60}];

var result = _.pluck(storage, 'name');
	
$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- max -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>max</h3>
<p>Return the maximum element or (element-based computation).</p>
<textarea class='coder-editor'>
<script>

var numbers = [10,28,36,14,27];

var result = _.max(numbers, /* 생략해도 같은 결과 */_.identity/*function(stooge) {
	return stooge;
}*/);

$("body").append("<li>result : " + result + "</li><br/>");

var storage = [
	{name : 'moe', age : 40},
	{name : 'larry', age : 50},
	{name : 'curly', age : 60}];

var result = _.max(storage, function(stooge) {
	return stooge.age;
});
	
$("body").append("<li>result : " + result.name + "</li><br/>");
</script>
</textarea>
</article>

<!-- min -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>min</h3>
<p>Return the minimum element or (element-based computation).</p>
<textarea class='coder-editor'>
<script>

var numbers = [10,28,36,14,27];

var result = _.min(numbers, /* 생략해도 같은 결과 */_.identity/*function(stooge) {
	return stooge;
}*/);

$("body").append("<li>result : " + result + "</li><br/>");

var storage = [
	{name : 'moe', age : 40},
	{name : 'larry', age : 50},
	{name : 'curly', age : 60}];

var result = _.min(storage, function(stooge) {
	return stooge.age;
});
	
$("body").append("<li>result : " + result.name + "</li><br/>");
</script>
</textarea>
</article>

<!-- sortBy -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>sortBy</h3>
<p>Sort the object's values by a criterion produced by an iterator.</p>
<textarea class='coder-editor'>
<script>

var numbers = [10,28,36,14,27];
/* sort 기본동작은 오름차순, iterator에 -를 붙이면 내림차순 */
var result = _.sortBy(numbers, /* 생략해도 같은 결과 */_.identity/*function(stooge) {
	return stooge;
}*/);

$("body").append("<li>result : " + result + "</li><br/>");

var storage = [
	{name : 'moe', age : 50},
	{name : 'larry', age : 30},
	{name : 'curly', age : 60}];

var result = _.sortBy(storage, function(stooge) {
	return stooge.age;
});

_.each(result, function(item, index) {
	$("body").append("<li>[" + index + "]: " + item.name + "</li>");
});
</script>
</textarea>
</article>

<!-- groupBy -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>groupBy</h3>
<p>Groups the object's values by a criterion.<br/> Pass either a string attribute to group by, or a function that returns the criterion.</p>
<textarea class='coder-editor'>
<script>

var numbers = [1.3, 2.1, 2.4, 3.5, 1.1, 6.8, 3.1];

var result = _.groupBy(numbers, function(num) {
	return Math.floor(num);
});

_.each(result, function(item, index) {
	$("body").append("<li>" + index + ": " + item + "</li>");
});
$("body").append("<br/>");

var storage = [
	{name : 'moe', age : 50},
	{name : 'larry', age : 30},
	{name : 'ysjung', age : 38},
	{name : 'john', age : 29},
	{name : 'crockford', age : 58},
	{name : 'curly', age : 60}];

var result = _.groupBy(storage, function(stooge) {
	if(stooge.age > 38) {
		return "oldMan";
	}
	else {
		return "youngMan";
	}
});

_.each(result, function(item, index) {
	var log = "" + index + ": ";
	_.each(item, function(it) {
		log += it.name;
		log += ", ";
	});
	$("body").append("<li>" + log + "</li>");	
});
</script>
</textarea>
</article>

<!-- sortIndex -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>sortedIndex</h3>
<p>Use a comparator function to figure out at what index an object should be inserted so as to maintain order. Uses binary search.</p>
<textarea class='coder-editor'>
<script>

var numbers = [10, 20, 30, 40, 50, 60];	// sort 기본동작은 오름차순 
//var numbers = [60, 50, 40, 30, 20, 10];

var result = _.sortedIndex(numbers, 41/*, function(num) {
	return -num;
}*/);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- shuffle -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>shuffle</h3>
<p>Shuffle an array.</p>
<textarea class='coder-editor'>
<script>

var numbers = [10, 20, 30, 40, 50, 60];

var result = _.shuffle(numbers);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- toArray -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>toArray</h3>
<p>Safety convert anything iterable into a real, live array.</p>
<textarea class='coder-editor'>
<script>

var func = function(p1, p2, p3) {
	return _.toArray(arguments);
};
var result = func("cafe", "tree", 33);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- size -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3>size</h3>
<p>Return the number of elements in an object.</p>
<textarea class='coder-editor'>
<script>
var result = _.size({
	one: 1,
	two: 2,
	three: 3,
	four: 4
});

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>




<!-- first -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3>first</h3>
<p>Get the first element of an array. <br/>Passing **n** will return the first N values in the array.</p>
<textarea class='coder-editor'>
<script>
var result = _.first([5, 4, 3, 2, 1]);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>




<script src='dist/coderdeck.min.js'></script>

<script>
	$(function() {
		$.deck('.slide');
	});
</script>
</body>
</html>
