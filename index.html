<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Underscore</title>
	<meta name="viewport" content="width=1024">
	
	<link rel="stylesheet" href="lib/coderdeck-core.min.css" type="text/css">
	<link rel="stylesheet" id='style-theme-link' href="lib/coderdeck.css" type="text/css" >

	<script src='lib/jquery.min.js'></script>
	<script src="lib/modernizr.js"></script>
	<style>
	.columns {
	  columns-count:5;
	  -moz-column-count:5;
	  -webkit-column-count:5;
	}
	</style>
</head>

<body class="deck-container">

<script type='text/coderdeck' id='coderdeck-default'>
  <html>
    <head>
      <script src='lib/jquery.min.js'>SCRIPTEND
	  <script src='lib/underscore.js'>SCRIPTEND
    </head>
    <body>
	    CODE
    </body>
</html>
</script>

<article class='slide slide-subhead'>
<h1>UNDERSCORE.JS</h1>
</article>


<article class='slide slide-list'>
<h2>Introduction</h2>
<p>
<a href="http://github.com/documentcloud/underscore/">Underscore</a> is a
utility-belt library for JavaScript that provides a lot of the
functional programming support that you would expect in
<a href="http://prototypejs.org/api">Prototype.js</a>
(or <a href="http://www.ruby-doc.org/core/classes/Enumerable.html">Ruby</a>),
but without extending any of the built-in JavaScript objects. It's the
tie to go along with <a href="http://docs.jquery.com">jQuery</a>'s tux,
and <a href="http://backbonejs.org">Backbone.js</a>'s suspenders.
</p>
<p>
Underscore provides 60-odd functions that support both the usual
functional suspects: <b>map</b>, <b>select</b>, <b>invoke</b> ?
as well as more specialized helpers: function binding, javascript
templating, deep equality testing, and so on. It delegates to built-in
functions, if present, so modern browsers will use the
native implementations of <b>forEach</b>, <b>map</b>, <b>reduce</b>,
<b>filter</b>, <b>every</b>, <b>some</b> and <b>indexOf</b>.
</p>
<h3>Downloads</h3>
<table>
<tbody><tr>
<td><a href="underscore.js">Development Version (1.3.3)</a></td>
<td><i>37kb, Uncompressed with Plentiful Comments</i></td>
</tr>
<tr>
<td><a href="underscore-min.js">Production Version (1.3.3)</a></td>
<td><i>4kb, Minified and Gzipped</i></td>
</tr>
</tbody></table>
</article>

<!-- Collection Functions -->
<!-- each -->
<article class='slide slide-list'>
<h2>Underscore</h2>
<div class="columns">
<h3>Collections</h3>
<ul>
	<li>each</li>
	<li>map</li>
	<li>reduce</li>
	<li>reduceRight</li>
	<li>find</li>
	<li>filter</li>
	<li>reject</li>
	<li>all</li>
	<li>any</li>
	<li>include</li>
	<li>invoke</li>
	<li>pluck</li>
	<li>max</li>
	<li>min</li>
	<li>sortBy</li>
	<li>groupBy</li>
	<li>sortedIndex</li>
	<li>shuffle</li>
	<li>toArray</li>
	<li>size</li>
</ul>
<h3>Arrays</h3>
<ul>
	<li>first</li>
	<li>initial</li>
	<li>last</li>
	<li>rest</li>
	<li>compact</li>
	<li>flatten</li>
	<li>without</li>
	<li>union</li>
	<li>intersection</li>
	<li>difference</li>
	<li>uniq</li>
	<li>zip</li>
	<li>indexOf</li>
	<li>lastIndexOf</li>
	<li>range</li>
</ul>
<h3>Functions</h3>
<ul>
	<li>bind</li>
	<li>bindAll</li>
	<li>memoize</li>
	<li>delay</li>
	<li>defer</li>
	<li>throttle</li>
	<li>debounce</li>
	<li>once</li>
	<li>after</li>
	<li>wrap</li>
	<li>compose</li>
</ul>
<h3>Objects</h3>
<ul>
	<li>keys</li>
	<li>values</li>
	<li>functions</li>
	<li>extend</li>
	<li>pick</li>
	<li>defaults</li>
	<li>clone</li>
	<li>tap</li>
	<li>has</li>
	<li>isEqual</li>
	<li>isEmpty</li>
	<li>isElement</li>
	<li>isArray</li>
	<li>isObject</li>
	<li>isArguments</li>
	<li>isFunction</li>
	<li>isString</li>
	<li>isNumber</li>
	<li>isFinite</li>
	<li>isBoolean</li>
	<li>isDate</li>
	<li>isRegExp</li>
	<li>isNaN</li>
	<li>isNull</li>
	<li>isUndefined</li>
</ul>
<h3>Utility</h3>
<ul>
	<li>noConflict</li>
	<li>identity</li>
	<li>times</li>
	<li>mixin</li>
	<li>uniqueId</li>
	<li>escape</li>
	<li>result</li>
	<li>template</li>
</ul>
</div>
</script>
</textarea>
</article>

<!-- Collection Functions -->
<!-- each -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#each">each</a></h3>
<p>The cornerstone, an 'each' implementation, aka 'forEach'.
Handles objects with the built-in 'forEach', arrays, and raw objects.
</p>
<textarea class='coder-editor'>
<script>
_.each([3,5,7], function(num, index, arr) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
});

$("body").append("<br/>");

_.each({
		name: 'ysjung',
		phone: '010-4052-5827',
		email: 'hush751001@gmail.com'
	},
	function(item, index, obj) {
	$("body").append("<li> obj[" + index + "]: " + item +"</li>");
});
</script>
</textarea>
</article>

<!-- map -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#map">map</a></h3>
<p>Return the results of applying the iterator to each element.</p>
<textarea class='coder-editor'>
<script>

var result = _.map([3,5,7], function(num, index, arr) {
	return num * 3;
});

_.each(result, function(num, index, arr) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
});


$("body").append("<br/>");

var result = _.map({
		name: 'ysjung',
		phone: '010-4052-5827',
		email: 'hush751001@gmail.com'
	},
	function(item, index, obj) {
		if(index === 'name') {
			item = 'Yongseok, Jung';
		}
		else if(index === 'email') {
			item = 'ysjung@incross.com';
		}
		
		return item;
	});

_.each(result, function(item, index, obj) {
	$("body").append("<li> obj[" + index + "]: " + item +"</li>");
});

</script>
</textarea>
</article>

<!-- reduce -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#reduce">reduce</a></h3>
<p>builds up a single result from a list of value, aka 'inject', or 'foldl'.</p>
<textarea class='coder-editor'>
<script>

var result = _.reduce([3,5,7], function(memo, num) {
	$("body").append("<li> memo: " + memo + ", num: " + num + "</li>");
	return memo + num;
},
10 /* 초기값 */);

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.reduce({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(memo, item) {
	$("body").append("<li> memo: " + memo + ", item: " + item + "</li>");
	return memo + ", " + item;
}, "I'm" /* 초기값 */);

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- reduceRight -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#reduceRight">reduceRight</a></h3>
<p>The right-associative version of reduce, also known as 'foldr'.</p>
<textarea class='coder-editor'>
<script>

var result = _.reduceRight([3,5,7], function(memo, num) {
	$("body").append("<li> memo: " + memo + ", num: " + num + "</li>");
	return memo + num;
},
10 /* 초기값 */);

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.reduceRight({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(memo, item) {
	$("body").append("<li> memo: " + memo + ", item: " + item + "</li>");
	return memo + ", " + item;
}, "I'm" /* 초기값 */);

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- find -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#find">find</a></h3>
<p>Return the first value which passes a truth test. Aliased as 'detect'.</p>
<textarea class='coder-editor'>
<script>
/* 결과값은 index가 아닌 num임. */
var result = _.find([0,1,0,4,0,5,2,5,8,2,7], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num === 2;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.find({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return item === '010-4052-5827';
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- filter -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#filter">filter</a></h3>
<p>Return all the elements that pass a truth test.</p>
<textarea class='coder-editor'>
<script>
/* 결과값은 num의 array임. */
var result = _.filter([0,1,0,4,0,5,2,5,8,2,7], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num % 2 == 0;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

/* 결과값은 item의 array임. */
var result = _.filter({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return (item.indexOf('u') > -1);
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- reject -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#reject">reject</a></h3>
<p>Return all the elements for which a truth test fails.</p>
<textarea class='coder-editor'>
<script>
/* 결과값은 num의 array임. */
var result = _.reject([0,1,0,4,0,5,2,5,8,2,7], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num % 2 == 0;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

/* 결과값은 item의 array임. */
var result = _.reject({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return (item.indexOf('u') > -1);
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- all -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#all">all</a></h3>
<p>Determine whether all of the elements match a truth test.</p>
<textarea class='coder-editor'>
<script>
var result = _.all([2,4,8,9], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num % 2 == 0;
});

$("body").append("<li>result : " + result + "</li><br/>");

var result = _.all([true, null, 1, 'yes'], function(item) {
	return item;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.all([true, null, 1, 'yes'], _.identity);

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.all({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return item;
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- any -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#any">any</a></h3>
<p>Determine if at least one element in the object matches a truth test.</p>
<textarea class='coder-editor'>
<script>
var result = _.all([2,4,8,9], function(num, index) {
	$("body").append("<li> array[" + index + "]: " + num + "</li>");
	return num % 2 == 0;
});

$("body").append("<li>result : " + result + "</li><br/>");

var result = _.all([true, null, 1, 'yes'], function(item) {
	return item;
});

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.all([true, null, 1, 'yes'], _.identity);

$("body").append("<li>result : " + result + "</li>");
$("body").append("<br/>");

var result = _.all({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, function(item, index) {
	$("body").append("<li> obj[" + index + "]: " + item + "</li>");
	return item;
});

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- include -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#include">include</a></h3>
<p>Determine if a given value is included in the array or object using '==='.</p>
<textarea class='coder-editor'>
<script>
var result = _.include([2,4,8,9], 8);

$("body").append("<li>result : " + result + "</li><br/>");

var result = _.include({
	name: 'ysjung',
	phone: '010-4052-5827',
	email: 'hush751001@gmail.com'
}, '010-4052-5827' );

$("body").append("<li>result : " + result + "</li>");
</script>
</textarea>
</article>

<!-- invoke -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#invoke">invoke</a></h3>
<p>Invoke a method (with arguments) on every item in a collection.</p>
<textarea class='coder-editor'>
<script>

var CPow = function(n) { this.n = n; };
CPow.prototype.pow = function(a) {
	return Math.pow(this.n, a);
};

var cPows = [];
cPows[0] = new CPow(12);
cPows[1] = new CPow(9);
cPows[2] = new CPow(13);
cPows[3] = new CPow(17);

var result = _.invoke(cPows, 'pow', 2);

$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- pluck -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#pluck">pluck</a></h3>
<p>Convenience version of a common use case of 'map': fetching a property.</p>
<textarea class='coder-editor'>
<script>

var storage = [
	{name : 'moe', age : 40},
	{name : 'larry', age : 50},
	{name : 'curly', age : 60}];

var result = _.pluck(storage, 'name');
	
$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- max -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#max">max</a></h3>
<p>Return the maximum element or (element-based computation).</p>
<textarea class='coder-editor'>
<script>

var numbers = [10,28,36,14,27];

var result = _.max(numbers, /* 생략해도 같은 결과 */_.identity/*function(stooge) {
	return stooge;
}*/);

$("body").append("<li>result : " + result + "</li><br/>");

var storage = [
	{name : 'moe', age : 40},
	{name : 'larry', age : 50},
	{name : 'curly', age : 60}];

var result = _.max(storage, function(stooge) {
	return stooge.age;
});
	
$("body").append("<li>result : " + result.name + "</li><br/>");
</script>
</textarea>
</article>

<!-- min -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#min">min</a></h3>
<p>Return the minimum element or (element-based computation).</p>
<textarea class='coder-editor'>
<script>

var numbers = [10,28,36,14,27];

var result = _.min(numbers, /* 생략해도 같은 결과 */_.identity/*function(stooge) {
	return stooge;
}*/);

$("body").append("<li>result : " + result + "</li><br/>");

var storage = [
	{name : 'moe', age : 40},
	{name : 'larry', age : 50},
	{name : 'curly', age : 60}];

var result = _.min(storage, function(stooge) {
	return stooge.age;
});
	
$("body").append("<li>result : " + result.name + "</li><br/>");
</script>
</textarea>
</article>

<!-- sortBy -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#sortBy">sortBy</a></h3>
<p>Sort the object's values by a criterion produced by an iterator.</p>
<textarea class='coder-editor'>
<script>

var numbers = [10,28,36,14,27];
/* sort 기본동작은 오름차순, iterator에 -를 붙이면 내림차순 */
var result = _.sortBy(numbers, /* 생략해도 같은 결과 */_.identity/*function(stooge) {
	return stooge;
}*/);

$("body").append("<li>result : " + result + "</li><br/>");

var storage = [
	{name : 'moe', age : 50},
	{name : 'larry', age : 30},
	{name : 'curly', age : 60}];

var result = _.sortBy(storage, function(stooge) {
	return stooge.age;
});

_.each(result, function(item, index) {
	$("body").append("<li>[" + index + "]: " + item.name + "</li>");
});
</script>
</textarea>
</article>

<!-- groupBy -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#groupBy">groupBy</a></h3>
<p>Groups the object's values by a criterion. Pass either a string attribute to group by, or a function that returns the criterion.</p>
<textarea class='coder-editor'>
<script>

var numbers = [1.3, 2.1, 2.4, 3.5, 1.1, 6.8, 3.1];

var result = _.groupBy(numbers, function(num) {
	return Math.floor(num);
});

_.each(result, function(item, index) {
	$("body").append("<li>" + index + ": " + item + "</li>");
});
$("body").append("<br/>");

var storage = [
	{name : 'moe', age : 50},
	{name : 'larry', age : 30},
	{name : 'ysjung', age : 38},
	{name : 'john', age : 29},
	{name : 'crockford', age : 58},
	{name : 'curly', age : 60}];

var result = _.groupBy(storage, function(stooge) {
	if(stooge.age > 38) {
		return "oldMan";
	}
	else {
		return "youngMan";
	}
});

_.each(result, function(item, index) {
	var log = "" + index + ": ";
	_.each(item, function(it) {
		log += it.name;
		log += ", ";
	});
	$("body").append("<li>" + log + "</li>");	
});
</script>
</textarea>
</article>

<!-- sortIndex -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#sortIndex">sortIndex</a></h3>
<p>Use a comparator function to figure out at what index an object should be inserted so as to maintain order. Uses binary search.</p>
<textarea class='coder-editor'>
<script>

var numbers = [10, 20, 30, 40, 50, 60];	// sort 기본동작은 오름차순 
//var numbers = [60, 50, 40, 30, 20, 10];

var result = _.sortedIndex(numbers, 41/*, function(num) {
	return -num;
}*/);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- shuffle -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#shuffle">shuffle</a></h3>
<p>Shuffle an array.</p>
<textarea class='coder-editor'>
<script>

var numbers = [10, 20, 30, 40, 50, 60];

var result = _.shuffle(numbers);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- toArray -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#toArray">toArray</a></h3>
<p>Safety convert anything iterable into a real, live array.</p>
<textarea class='coder-editor'>
<script>

var func = function(p1, p2, p3) {
	return _.toArray(arguments);
};
var result = func("cafe", "tree", 33);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- size -->
<article class='slide slide-list'>
<h2>Collection Functions</h2>
<h3><a href="http://underscorejs.org/#size">size</a></h3>
<p>Return the number of elements in an object.</p>
<textarea class='coder-editor'>
<script>
var result = _.size({
	one: 1,
	two: 2,
	three: 3,
	four: 4
});

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>




<!-- first -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#first">first</a></h3>
<p>Get the first element of an array. Passing **n** will return the first N values in the array.</p>
<textarea class='coder-editor'>
<script>
var result = _.first([5, 4, 3, 2, 1]);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.first(['a', 4, 'e', 2, 'd'], 3);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.first(['a', 4, 'e', 2, 'd'], 3, true);
$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- initial -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#initial">initial</a></h3>
<p>Returns everything but the last entry of the array. Especcialy useful on the arguments object. Passing **n** will return all the values in the array, excluding the last N.</p>
<textarea class='coder-editor'>
<script>
var result = _.initial([5, 4, 3, 2, 1]);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.initial([5, 4, 3, 2, 1], 3, false);
$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- last -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#last">last</a></h3>
<p>Get the last element of an array. Passing **n** will return the last N values in the array.</p>
<textarea class='coder-editor'>
<script>
var result = _.last([5, 4, 3, 2, 1]);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.last([5, 4, 3, 2, 1], 3, false);
$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- rest -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#rest">rest</a></h3>
<p>Returns everything but the first entry of the array. Especially useful on the arguments object. Passing an **index** will return the rest of the values in the array from that index onward.</p>
<textarea class='coder-editor'>
<script>
var result = _.rest([5, 4, 3, 2, 1]);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.rest([5, 4, 3, 2, 1], 3, false);
$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- compact -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#compact">compact</a></h3>
<p>Trim out all falsy values from an array. Returns a copy of the array with all falsy values removed. In JavaScript, false, null, 0, "", undefined and NaN are all falsy.</p>
<textarea class='coder-editor'>
<script>
var result = _.compact([0, 1, false, 2, '', 3]);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- flatten -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#flatten">flatten</a></h3>
<p>Return a completely flattened version of an array.
Flattens a nested array (the nesting can be to any depth).
If you pass shallow, the array will only be flattened a single level.</p>
<textarea class='coder-editor'>
<script>
var result = _.flatten([1, [2], [3, [[4]]]]);
$("body").append("<li>result : " + JSON.stringify(result) + "</li>");

$("body").append("<br/>");    

var result = _.flatten([1, [2], [3, [[4]]]], true);
$("body").append("<li>result : " + JSON.stringify(result) + "</li>");

</script>
</textarea>
</article>

<!-- without -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#without">without</a></h3>
<p>Return a version of the array that does not contain the specified value(s).
Returns a copy of the array with all instances of the values removed. 
=== is used for the equality test.</p>
<textarea class='coder-editor'>
<script>
var result = _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- union -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#union">union</a></h3>
<p>Produce an array that contains the union: each distinct element from all of the passed-in arrays.<br/>
Computes the union of the passed-in arrays: the list of unique items, in order, that are present in one or more of the arrays.</p>
<textarea class='coder-editor'>
<script>
var result = _.union([1, 2, 3], [101, 2, 1, 10], [2, 1]);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.union(['a', 'b', 'c'], ['c', 'd', 'e', 'f'], ['a', 'f']);
$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- intersection -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#intersection">intersection</a></h3>
<p>
Produce an array that contains every item shared between all the passed-in arrays. Computes the list of values that are the intersection of all the arrays. Each value in the result is present in each of the arrays.
</p>
<textarea class='coder-editor'>
<script>
var result = _.intersection([1, 2, 3], [101, 2, 1, 10], [2, 111]);
$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- difference -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#difference">difference</a></h3>
<p>
Take the difference between one array and a number of other arrays. Only the elements present in just the first array will remain. Similar to without, but returns the values from array that are not present in the other arrays.
</p>
<textarea class='coder-editor'>
<script>
var result = _.difference([1, 2, 3, 4, 5], [5, 2, 10]);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.difference(['a', 'b', 'c', 'd', 'e'], ['b', 'd', 'f', 'g']);
$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- uniq -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#uniq">uniq</a></h3>
<p>Produce a duplicate-free version of the array. If the array has already been sorted, you have the option of using a faster algorithm.</p>
<textarea class='coder-editor'>
<script>
var result = _.uniq([1, 2, 1, 3, 1, 4], true);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.uniq([1, 2, 1, 3, 1, 4], false);
$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- zip -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#zip">zip</a></h3>
<p>Zip together multiple lists into a single array -- elements that share an index go together.</p>
<textarea class='coder-editor'>
<script>
var result = _.zip(['moe', 'larry', 'curly'], [30, 40, 50], [true, false, false]);

$("body").append("<li>result : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- indexOf -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#indexOf">indexOf</a></h3>
<p>
Returns the index at which value can be found in the array, or -1 if value is not present in the array. Uses the native indexOf function unless it's missing. If you're working with a large array, and you know that the array is already sorted, pass true for isSorted to use a faster binary search.
</p>
<textarea class='coder-editor'>
<script>
var result = _.indexOf([1, 2, 3], 2);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.indexOf([1, 9, 2, 8, 3, 7, 4, 6], 4, true);
$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- lastIndexOf -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#lastIndexOf">lastIndexOf</a></h3>
<p>
Returns the index of the last occurrence of value in the array, or -1 if value is not present. Uses the native lastIndexOf function if possible.
</p>
<textarea class='coder-editor'>
<script>
var result = _.lastIndexOf([1, 2, 3, 4, 5, 99], 4);
$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- range -->
<article class='slide slide-list'>
<h2>Array Functions</h2>
<h3><a href="http://underscorejs.org/#range">range</a></h3>
<p>
A function to create flexibly-numbered lists of integers, handy for 'each' and 'map' loops. 'start', if omitted, defaults to 0; 'step' defaults to 1. Returns a list of integers from 'start' to 'stop', incremented (or decremented) by 'step', exclusive.
</p>
<textarea class='coder-editor'>
<script>
var result = _.range(10);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.range(1, 11);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.range(0, 30, 5);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.range(0, -10, -1);
$("body").append("<li>result : " + result + "</li><br/>");

var result = _.range(0);
$("body").append("<li>result : " + result + "</li><br/>");
</script>
</textarea>
</article>

<!-- bind -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#bind">bind - (1)</a></h3>
<p>Create a function bound to a given object (assigning 'this', and arguments, optionally). Binding with arguments is also known as <a href="http://www.svendtofte.com/code/curried_javascript/">'curry'.</a>
</p>
<textarea class='coder-editor'>
<script>
var Func = function(name) {
	this.name = name;
}

Func.prototype.func = function(greeting, message) {
	return greeting + ": " + this.name + ": " + message;
};

var funcObj = new Func("ysjung");
var result = funcObj.func('hello', 'message1');
$("body").append("<li>funcObj.func() : " + result + "</li><br/>");

var func = funcObj.func;
result = func('hahaha', 'message2');
$("body").append("<li>func() : " + result + "</li><br/>");

func = _.bind(Func.prototype.func, {name: 'itswoong'});
result = func('wow', 'message3');
$("body").append("<li>func() : " + result + "</li><br/>");

// currying using bind()
func = _.bind(Func.prototype.func, {name: 'naksun'}, 'olleh');
result = func('message4');
$("body").append("<li>func() : " + result + "</li><br/>");

</script>
</textarea>
</article>

<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#bind">bind - (2)</a></h3>
<p>When to use _.bind() ?</p>
<textarea class='coder-editor'>
<script>
var Button = function(name) {
	this.name = name;
};

Button.prototype.onClick = function(e) {
	alert(this.name);
};

var Layoutview = function(name) {
	this.name = name;
  	this.button1 = new Button("button1");
  	var $button1 =$("<button>button1</button>"); 
  	$("body").append($button1);
  	this.button1.onClick = _.bind(this.button1.onClick, this);
  //this.button1.onClick = _.bind(this.button1.onClick, this.button1);
  	$button1.click(this.button1.onClick);
};

var layoutview1 = new Layoutview("layoutview1");
</script>
</textarea>
</article>

<!-- bindAll -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#bindAll">bindAll</a></h3>
<p>Bind all of an object's methods to that object. Useful for ensuring that all callbacks defined on an object belong to it.
</p>
<textarea class='coder-editor'>
<script>
var Func = function(name) {
	this.name = name;
};

Func.prototype.func1 = function(greeting) {
	return greeting + ": " + this.name;
};

Func.prototype.func2 = function(greeting) {
	return this.name + ": " + greeting;
};

var ysjung = new Func('ysjung');
var itswoong = new Func('itswoong');

var result = ysjung.func1('hi');
$("body").append("<li>ysjung.func1('hi') : " + result + "</li>");
result = itswoong.func1('hello');
$("body").append("<li>itswoong.func1('hello') : " + result + "</li><br/>");

var func = ysjung.func1;
result = func('hi');	// call시 this가 window이므로 this.name이 없음.
$("body").append("<li>func('hi') : " + result + "</li>");

_.bindAll(ysjung, 'func1', 'func2');
//_.bindAll(ysjung);

func = ysjung.func1;
result = func('hoho');
$("body").append("<li>func('hoho') : " + result + "</li>");

func = ysjung.func2;
result = func('haha');
$("body").append("<li>func('haha') : " + result + "</li>");

func = itswoong.func1;
result = func('wow');
$("body").append("<li>func('wow') : " + result + "</li>");

</script>
</textarea>
</article>

<!-- memoize -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#memoize">memoize</a></h3>
<p>Memoize an expensive function by storing its results.
</p>
<textarea class='coder-editor'>
<script>
// memoize를 이용한 function은 param(key)과 return(value)에 대해
// hash를 생성하여 저장한다.
// 이미 한번 실행된 param에 대해서는 function을 호출하지 않고 저장된 value값을 return한다.

// fibonacci
// 1,1,2,3,5,8,13,21,34,55,89,...
var fibonacci = _.memoize(function(n) {
  return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);
});

var oldTime = Date.now();
fibonacci(3000);
var result = Date.now() - oldTime;
$("body").append("<li>fibonacci(3000) : " + result + "</li><br/>");

var oldTime = Date.now();
fibonacci(2999);
var result = Date.now() - oldTime;
$("body").append("<li>fibonacci(2999) : " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- delay -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#delay">delay</a></h3>
<p>Delays a function for the given number of milliseconds, and then calls it with the arguments supplied.
</p>
<textarea class='coder-editor'>
<script>
var after1000ms = function(message) {
	$("body").append("<li>after1000ms() " + message + "</li><br/>");    
};

_.delay(after1000ms, 1000, "call!");
$("body").append("<li>_.delay() called.</li><br/>")

</script>
</textarea>
</article>

<!-- defer -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#defer">defer</a></h3>
<p>Defers a function, scheduling it to run after the current call stack has cleared.
</p>
<textarea class='coder-editor'>
<script>
// _.defer는 _.delay 1ms와 동일함.

var firstFunc = function() {
	$("body").append("<li>firstFunc - start</li>");
	_.defer(secondFunc, "Hi");
	$("body").append("<li>firstFunc - end</li>");
};

var secondFunc = function(message) {
	$("body").append("<li>secondFunc : " + message + "</li><br/>");
};

firstFunc();
$("body").append("<li>FirstFunc() called.</li><br/>")

</script>
</textarea>
</article>

<!-- throttle -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#throttle">throttle</a></h3>
<p>Returns a function, that, when invoked, will only be triggered at most once during a given window of time.<br/>
reference site: <a href="http://benalman.com/projects/jquery-throttle-debounce-plugin/">http://benalman.com/projects/jquery-throttle-debounce-plugin/</a>
</p>
<textarea class='coder-editor'>
<script>

var $button1 =$("<button>button1</button>"); 
$("body").append($button1);

var button1_onClick = function(e) {
	$("body").append("<li>Button1 Clicked</li>");
};

var button1_onClick = _.throttle(button1_onClick, 1000);

$button1.click(button1_onClick);

$("body").append("<li>FirstFunc() called.</li><br/>");

</script>
</textarea>
</article>

<!-- debounce -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#debounce">debounce</a></h3>
<p>Returns a function, that, as long as it continues to be invoked, will not be triggered.<br/>
reference site: <a href="http://benalman.com/projects/jquery-throttle-debounce-plugin/">http://benalman.com/projects/jquery-throttle-debounce-plugin/</a>
</p>
<textarea class='coder-editor'>
<script>

var $button1 =$("<button>button1</button>"); 
$("body").append($button1);

var button1_onClick = function(e) {
	$("body").append("<li>Button1 Clicked</li>");
};

var button1_onClick = _.debounce(button1_onClick, 1000);

$button1.click(button1_onClick);

$("body").append("<li>FirstFunc() called.</li><br/>");

</script>
</textarea>
</article>

<!-- once -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#once">once</a></h3>
<p>Returns a function that will be executed at most one time, no matter how often you call it. Useful for lazy initialization.
</p>
<textarea class='coder-editor'>
<script>

var createApplication = function() {
	$("body").append("<li>createApplication called.</li><br/>");	
};

var initialize = _.once(createApplication);
initialize();
initialize();
initialize();
initialize();

</script>
</textarea>
</article>

<!-- after -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#after">after</a></h3>
<p>Return a function that will only be executed after being called N times.
</p>
<textarea class='coder-editor'>
<script>
var render = function() {
	$("body").append("<li>render called.</li><br/>");
};

var Note = function(message, duration) {
	this.message = message;
	this.duration = duration;
	this.sucess = null;
};

Note.prototype.asyncSave = function(callbacks) {
	this.success = callbacks.success;
	
	_.delay(this.success, this.duration);
};

var notes = [
	new Note("Apple", 3000),
	new Note("Special", 1000),
	new Note("Event", 2000)
];

var renderNotes = _.after(notes.length, render);

_.each(notes, function(note) {
	note.asyncSave({success: renderNotes});
});

</script>
</textarea>
</article>

<!-- wrap -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#wrap">wrap</a></h3>
<p>Returns the first function passed as an argument to the second, allowing you to adjust arguments, run code before and after,
and conditionally execute the original function.
</p>
<textarea class='coder-editor'>
<script>
var hello = function(name) {
	return "hello: " + name;
};

hello = _.wrap(hello, function(func) {
	return "before, " + func("moe") + ", after";
});

var result = hello();
$("body").append("<li>" + result + "</li><br/>");


var wrapper = function(orgFunc) {

	var args = Array.prototype.slice.call(arguments, 1);
	var f = orgFunc.apply(this, args);
	
	return "choi " + f + " <= solo man";
};

var name = "naksun";
result = name.toString();
$("body").append("<li>original toString: " + result + "</li><br/>");

String.prototype.toString = _.wrap(String.prototype.toString, wrapper);

result = name.toString();
$("body").append("<li>wrapped toString: " + result + "</li><br/>");

</script>
</textarea>
</article>

<!-- compose -->
<article class='slide slide-list'>
<h2>Function Functions</h2>
<h3><a href="http://underscorejs.org/#compose">compose</a></h3>
<p>Returns a function that is the composition of a list of functions, each consuming the return value fo the function that follows.
</p>
<textarea class='coder-editor'>
<script>
// _.compose는 등록된 함수를 뒤에서 앞으로 차례대로 함수를 호출한다.
// 이전 함수의 return 값이 다음함수의 argument로 들어가게 된다.
// 그러므로 argument의 수는 1개로 제한된다. 최초 진입하는 맨 뒤의 함수는 예외.
var greet = function(name) {
	return "hi: " + name; 
};

var exclaim = function(statement, arg2) {
	return statement + "! " + arg2; 
};

var welcome = _.compose(greet, exclaim);

var result = welcome('moe', 'argument2');
$("body").append("<li>result: " + result + "</li><br/>");

</script>
</textarea>
</article>







<script src='lib/coderdeck.min.js'></script>

<script>
	$(function() {
		$.deck('.slide');
	});
</script>
</body>
</html>
